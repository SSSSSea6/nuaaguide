<!-- layouts/partials/search.html -->
{{- /* 以下内容全部 Hugo 忽略，直接输出到 HTML */ -}}
<script src="https://cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch.umd.js"></script>
<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.css@7/themes/satellite-min.css" />

<div id="searchbox"></div>
<div id="hits"></div>
<div id="pagination"></div>

<script>
const ALGOLIA_APP_ID = "SMA85IWFQN"; // 替换为你的 APP ID
const ALGOLIA_SEARCH_KEY = "8a00c461ba4a78c16cb8862108e7e83a"; // 替换为你的 Search-only Key
const indexName = "nuaaguide";

const searchClient = algoliasearch(ALGOLIA_APP_ID, ALGOLIA_SEARCH_KEY);

const search = instantsearch({
  indexName,
  searchClient,
});

search.addWidgets([
  instantsearch.widgets.searchBox({ container: '#searchbox' }),
  instantsearch.widgets.hits({
    container: '#hits',
    templates: {
      item: `<a href=" "><h3>{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</h3></a >
             <p>{{excerpt}}</p >
             <a href="{{file_url}}" target="_blank">下载</a >`
    }
  }),
  instantsearch.widgets.pagination({ container: '#pagination' })
]);

search.start();
</script>
{{- /* Hugo 忽略结束 */ -}}

  search.start();
</script>
